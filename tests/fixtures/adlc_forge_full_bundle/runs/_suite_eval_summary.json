{
  "suite": "gate-matrix-27",
  "generated_at": "2026-02-19T12:56:25",
  "total": 27,
  "passed": 26,
  "failed": 0,
  "skipped": 1,
  "pass_rate": 1.0,
  "preflight": {
    "entry_suite_gate_exists": true,
    "entry_live_suite_exists": true,
    "suite_entry_skip_reasons": [],
    "has_cmake": true,
    "has_cl": false,
    "has_gpp": false,
    "has_clangpp": false,
    "has_cpp_compiler": false,
    "has_qmake": true,
    "has_windeployqt": true,
    "has_qt_tooling": true,
    "has_pytest_qt": true,
    "has_display": false,
    "has_gui_harness": false,
    "has_build_toolchain": false,
    "has_gui_automation": false,
    "optional_gui_smoke": {
      "status": "skip",
      "reason": "missing dependency: Qt/GUI automation | display not available (DISPLAY missing); GUI harness not implemented (tests/gui or tools/checks gui runner missing)",
      "command": "python tools/checks/web_spider_visual_check.py"
    }
  },
  "cases": [
    {
      "id": 1,
      "name": "禁止代码门禁（未授权必须失败）",
      "status": "pass",
      "expectation": "verify should fail with Code changes allowed hint",
      "evidence": {
        "rc": 1,
        "stdout_tail": "_repo] cmake build (headless lite)\n适用于 .NET Framework MSBuild 版本 17.14.8+a7a4d5af0\n\n  1>Checking Build System\n  Building Custom Rule D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/CMakeLists.txt\n  headless_main.cpp\n  ctcp_headless.vcxproj -> D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n  Building Custom Rule D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/CMakeLists.txt\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.27 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.15 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.43 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks][error] code changes detected but CURRENT.md does not allow code edits.\nAdd and tick the checkbox in meta/tasks/CURRENT.md:\n  - [x] Code changes allowed\nCode changes:\n  - src/main.cpp\n",
        "stderr_tail": "CMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CMAKE_BUILD_TYPE\n\n\nInvoke-ExternalChecked : [verify_repo] FAILED: workflow gate (workflow checks) (exit=1)\nAt D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\scripts\\verify_repo.ps1:94 c\nhar:3\n+   Invoke-ExternalChecked -Label \"workflow gate (workflow checks)\" -Co ...\n+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [Write-Error], WriteErrorException\n    + FullyQualifiedErrorId : Microsoft.PowerShell.Commands.WriteErrorException,Invoke-ExternalChecked\n \n",
        "diff": "diff --git a/meta/tasks/CURRENT.md b/meta/tasks/CURRENT.md\nindex 39ee3f5..f5095b7 100644\n--- a/meta/tasks/CURRENT.md\n+++ b/meta/tasks/CURRENT.md\n@@ -8,7 +8,7 @@\n ## Acceptance (must be checkable)\n - [x] DoD written (this file complete)\n - [ ] Research logged (if needed): meta/externals/YYYYMMDD-external-runs-root-and-teamnet.md\n-- [x] Code changes allowed\n+- [ ] Code changes allowed\n - [x] Patch applies cleanly (`git apply ...`) OR overlay zip applies cleanly\n - [x] `scripts/verify_repo.*` passes\n - [x] Demo report updated: `meta/reports/LAST.md`\ndiff --git a/src/main.cpp b/src/main.cpp\nindex 305b7b1..a5c8996 100644\n--- a/src/main.cpp\n+++ b/src/main.cpp\n@@ -58,3 +58,5 @@ int main(int argc, char *argv[]) {\n         return 3;\n     }\n }\n+\n+// matrix-case-01\n"
      }
    },
    {
      "id": 2,
      "name": "禁止代码门禁（授权后必须通过）",
      "status": "pass",
      "expectation": "workflow gate should pass with authorization",
      "evidence": {
        "rc": 0,
        "stdout_tail": "fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n  Building Custom Rule D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/CMakeLists.txt\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.12 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.15 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.28 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks] ok\n[verify_repo] contract checks\n[contract_checks] schema presence ok\n[contract_checks] meta schema_version ok\n[contract_checks] readme links ok\n[contract_checks] unique Graph Spider implementation ok\n[verify_repo] doc index check (sync doc links --check)\n[sync_doc_links] ok\n[verify_repo] lite scenario replay\n{\"run_dir\": \"D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/simlab/_runs_repo_gate/20260219-125530\", \"passed\": 1, \"failed\": 0}\n[verify_repo] OK\n",
        "stderr_tail": ""
      }
    },
    {
      "id": 3,
      "name": "只改文档不需要授权（应通过）",
      "status": "pass",
      "expectation": "doc-only change should not be blocked by workflow gate",
      "evidence": {
        "rc": 0,
        "stdout_tail": ")\n适用于 .NET Framework MSBuild 版本 17.14.8+a7a4d5af0\n\n  ctcp_headless.vcxproj -> D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.12 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.14 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.26 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks] ok (no code changes)\n[verify_repo] contract checks\n[contract_checks] schema presence ok\n[contract_checks] meta schema_version ok\n[contract_checks] readme links ok\n[contract_checks] unique Graph Spider implementation ok\n[verify_repo] doc index check (sync doc links --check)\n[sync_doc_links] ok\n[verify_repo] lite scenario replay\n{\"run_dir\": \"D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/simlab/_runs_repo_gate/20260219-125535\", \"passed\": 1, \"failed\": 0}\n[verify_repo] OK\n",
        "stderr_tail": ""
      }
    },
    {
      "id": 4,
      "name": "缺失契约文件必须失败",
      "status": "pass",
      "expectation": "verify should fail and mention missing AI contract",
      "evidence": {
        "rc": 1,
        "stdout_tail": "le\\runs\\_gate_matrix_sandbox\n[verify_repo] mode: LITE\n[verify_repo] write_fixtures: False\n[verify_repo] cmake configure (headless lite)\n-- Selecting Windows SDK version 10.0.26100.0 to target Windows 10.0.26200.\n-- Configuring done (0.5s)\n-- Generating done (0.0s)\n-- Build files have been written to: D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n[verify_repo] cmake build (headless lite)\n适用于 .NET Framework MSBuild 版本 17.14.8+a7a4d5af0\n\n  ctcp_headless.vcxproj -> D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.10 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.14 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.25 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks][error] missing required workflow files:\n  - ai_context/00_AI_CONTRACT.md\n",
        "stderr_tail": "Invoke-ExternalChecked : [verify_repo] FAILED: workflow gate (workflow checks) (exit=1)\nAt D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\scripts\\verify_repo.ps1:94 c\nhar:3\n+   Invoke-ExternalChecked -Label \"workflow gate (workflow checks)\" -Co ...\n+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [Write-Error], WriteErrorException\n    + FullyQualifiedErrorId : Microsoft.PowerShell.Commands.WriteErrorException,Invoke-ExternalChecked\n \n"
      }
    },
    {
      "id": 5,
      "name": "README 引用不存在文件必须失败",
      "status": "pass",
      "expectation": "contract check should detect broken README link",
      "evidence": {
        "rc": 1,
        "stdout_tail": "erify_repo] write_fixtures: False\n[verify_repo] cmake configure (headless lite)\n-- Selecting Windows SDK version 10.0.26100.0 to target Windows 10.0.26200.\n-- Configuring done (0.6s)\n-- Generating done (0.0s)\n-- Build files have been written to: D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n[verify_repo] cmake build (headless lite)\n适用于 .NET Framework MSBuild 版本 17.14.8+a7a4d5af0\n\n  ctcp_headless.vcxproj -> D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.12 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.16 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.28 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks] ok (no code changes)\n[verify_repo] contract checks\n[contract_checks] schema presence ok\n[contract_checks] meta schema_version ok\n",
        "stderr_tail": "[contract_checks] README contains broken local links:\n- README.md:135: broken link 'docs/NOPE.md' -> 'docs/NOPE.md'\nInvoke-ExternalChecked : [verify_repo] FAILED: contract checks (exit=1)\nAt D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\scripts\\verify_repo.ps1:98 c\nhar:3\n+   Invoke-ExternalChecked -Label \"contract checks\" -Command { python s ...\n+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [Write-Error], WriteErrorException\n    + FullyQualifiedErrorId : Microsoft.PowerShell.Commands.WriteErrorException,Invoke-ExternalChecked\n \n"
      }
    },
    {
      "id": 6,
      "name": "README 修复断链后必须通过",
      "status": "pass",
      "expectation": "contract check should pass after link fix",
      "evidence": {
        "rc": 0,
        "stdout_tail": " .NET Framework MSBuild 版本 17.14.8+a7a4d5af0\n\n  ctcp_headless.vcxproj -> D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.11 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.15 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.28 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks] ok (no git diff detected)\n[verify_repo] contract checks\n[contract_checks] schema presence ok\n[contract_checks] meta schema_version ok\n[contract_checks] readme links ok\n[contract_checks] unique Graph Spider implementation ok\n[verify_repo] doc index check (sync doc links --check)\n[sync_doc_links] ok\n[verify_repo] lite scenario replay\n{\"run_dir\": \"D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/simlab/_runs_repo_gate/20260219-125544\", \"passed\": 1, \"failed\": 0}\n[verify_repo] OK\n",
        "stderr_tail": ""
      }
    },
    {
      "id": 7,
      "name": "doc link check（无改动应通过）",
      "status": "pass",
      "expectation": "sync_doc_links --check should pass with no diff",
      "evidence": {
        "rc": 0,
        "stdout_tail": "[sync_doc_links] ok\n",
        "stderr_tail": "",
        "diff_names": ""
      }
    },
    {
      "id": 8,
      "name": "doc link 同步可预测（产生固定 diff）",
      "status": "pass",
      "expectation": "sync write should repair tampered README doc-index block, then --check should pass",
      "evidence": {
        "write_rc": 0,
        "check_rc": 0,
        "write_out": "[sync_doc_links] updated: README.md\n",
        "check_out": "[sync_doc_links] ok\n",
        "diff": "",
        "wrote_update": true
      }
    },
    {
      "id": 9,
      "name": "助手 init-task 生成 CURRENT.md",
      "status": "pass",
      "expectation": "CURRENT.md should contain acceptance checklist",
      "evidence": {
        "rc": 0,
        "stdout": "[ok] task: meta\\tasks\\20260219-125546-hitbox-fix.md\n[ok] current: meta\\tasks\\CURRENT.md\n",
        "current_head": "# Task — hitbox-fix\n\n## Context\n- Why are we doing this?\n\n## Acceptance (must be checkable)\n- [ ] DoD written (this file complete)\n- [ ] Research logged (if needed): meta/externals/YYYYMMDD-hitbox-fix.md\n- [ ] Code changes allowed\n- [ ] Patch applies cleanly (`git apply ...`) OR overlay zip applies cleanly\n- [ ] `scripts/verify_repo.*` passes\n- [ ] Demo report updated: `meta/reports/LAST.md`\n\n## Plan\n1) Spec-first (docs/spec/meta)\n2) Implement (code if allowed)\n3) Verify (verify_repo)\n4) Record (problem_registry / decision_log if needed)\n5) Demo (LAST.md + TRACE)\n"
      }
    },
    {
      "id": 10,
      "name": "助手 init-externals 生成外部调研模板",
      "status": "pass",
      "expectation": "externals file should be generated with template sections",
      "evidence": {
        "rc": 0,
        "stdout": "[ok] externals: meta\\externals\\20260219-cytoscape-layout.md\n",
        "file": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/meta/externals/20260219-cytoscape-layout.md",
        "head": "# Externals Review — cytoscape-layout <topic>\n\n## Goal\n- \n\n## Constraints\n- Offline only?:\n- License constraints?:\n- Must support Windows?:\n- Must be vendorable?:\n\n## Candidates\n### A) <name>\n- Link:\n- License:\n- Activity (last commit / releases):\n- Bundle size / deps:\n- Integration plan (exact files / APIs):\n- Pros:\n- Cons:"
      }
    },
    {
      "id": 11,
      "name": "助手 print-prompt 输出必须阅读清单",
      "status": "pass",
      "expectation": "stdout should include required reading/order format blocks",
      "evidence": {
        "rc": 0,
        "stdout": "��̻�Լ������ڣ��ýű����Ž��� agent ��Ϊ�̶�������\n\n---\n\n## A. Ŀ��̬����Ҫ�ﵽʲô��\n\n��ֻ�ṩһ��Ŀ�꣨Goal����ϵͳ����������\n\n1) �Լ���� �� �Լ��ƽ� �� �Լ����� �� �Լ���¼  \n2) ֻ�ڡ������������/�ṩ��Ϣ��ʱ����  \n3) �����ɻط���ʾ������ʲô��Ϊʲô����θ��֡���֤���\n\n---\n\n## B. �����������/ά����\n\n- ���񵥣�`meta/tasks/CURRENT.md`\n- ���м�¼������Ҫ����`meta/externals/<date>-*.md`\n- ���а���`${CTCP_RUNS_ROOT:-~/.ctcp/runs}/<repo_slug>/<run_id>/`\n  - `PROMPT.md`���� coding agent �����루Ψһ��\n  - `QUESTIONS.md`���������⣨Ψһ��������������\n  - `TRACE.md`��ȫ������־����ʾ��\n- ����ָ�룺`meta/run_pointers/LAST_RUN.txt`���ֿ��ڣ��������·����\n- ��ʾ���棺`meta/reports/LAST.md`\n- ������䣺`ai_context/problem_registry.md`\n- ���߼�¼��`ai_context/decision_log.md`\n\n---\n\n## C. ǿ���Ž����� verify_repo ִ�У�\n\n### C1) ��ֹ���루Ĭ�ϣ�\n�� `meta/tasks/CURRENT.md` δ��ѡ `[x] Code changes allowed` ǰ��\n- ������docs/ specs/ meta/ ai_context/ ��\n- ��ֹ��src/ include/ web/ scripts/ tools/ CMakeLists.txt package*.json ��\n\n### C2) Ψһ�������\nֻ�� `scripts/verify_repo.*`��\n\n### C3) �ĵ���������ͬ��\n`scripts/sync_doc_links.py --check` ����ͨ����README �� Doc Index �������һ�£���\n\n---\n\n## D. ���ʲ��ԣ��������أ�\n\n��������������һ���������򲻵����ʣ�\n\n1) ��Ҫ���ṩ��Կ/Ȩ��  \n2) ��Ҫ���ڻ��ⷽ�����İ�  \n3) ȱ�ٹؼ�Լ�������޷�����\n\n���ʱ���д���ⲿ run ���� `QUESTIONS.md`��ͨ�� `meta/run_pointers/LAST_RUN.txt` �ɶ�λ������������\n- ����\n- ��ѡ�� A/B/C�������ף�\n- Ĭ�Ͻ��飨����㲻�أ�ϵͳ����Ĭ�ϼ�����\n\n---\n\n## E. ��ʾ��ʽ�����һ��Ҫ�ܡ�������ʾ����\n\n`meta/reports/LAST.md` �ṹ�̶���\n\n1. Goal\n2. Readlist\n3. Plan\n4. Timeline / Trace pointer\n5. Changes (file list)\n6. Verify (commands + output)\n7. Open questions (if any)\n8. Next steps\n\n",
        "stderr": ""
      }
    },
    {
      "id": 12,
      "name": "Windows build 脚本存在且可执行",
      "status": "skip",
      "expectation": "requires build toolchain in environment",
      "evidence": {
        "reason": "missing dependency: C++ compiler"
      }
    },
    {
      "id": 13,
      "name": "verify_repo 是唯一主 gate（覆盖 workflow+contract+doclinks）",
      "status": "pass",
      "expectation": "verify_repo output should contain expected sequence",
      "evidence": {
        "rc": 0,
        "positions": [
          0,
          1147,
          1232,
          1430
        ],
        "stdout_tail": "[verify_repo] repo root: D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\n[verify_repo] mode: LITE\n[verify_repo] write_fixtures: False\n[verify_repo] cmake configure (headless lite)\n-- Selecting Windows SDK version 10.0.26100.0 to target Windows 10.0.26200.\n-- Configuring done (0.6s)\n-- Generating done (0.1s)\n-- Build files have been written to: D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n[verify_repo] cmake build (headless lite)\n适用于 .NET Framework MSBuild 版本 17.14.8+a7a4d5af0\n\n  ctcp_headless.vcxproj -> D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\build_lite\\Release\\ctcp_headless.exe\n[verify_repo] ctest lite\nTest project D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/build_lite\n    Start 1: headless_smoke\n1/2 Test #1: headless_smoke ...................   Passed    0.11 sec\n    Start 2: verify_tools_selftest\n2/2 Test #2: verify_tools_selftest ............   Passed    0.15 sec\n\n100% tests passed, 0 tests failed out of 2\n\nTotal Test time (real) =   0.26 sec\n[verify_repo] workflow gate (workflow checks)\n[workflow_checks] ok (no code changes)\n[verify_repo] contract checks\n[contract_checks] schema presence ok\n[contract_checks] meta schema_version ok\n[contract_checks] readme links ok\n[contract_checks] unique Graph Spider implementation ok\n[verify_repo] doc index check (sync doc links --check)\n[sync_doc_links] ok\n[verify_repo] lite scenario replay\n{\"run_dir\": \"D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_gate_matrix_sandbox/simlab/_runs_repo_gate/20260219-125549\", \"passed\": 1, \"failed\": 0}\n[verify_repo] OK\n",
        "stderr_tail": ""
      }
    },
    {
      "id": 14,
      "name": "单击选中节点（只测选中态）",
      "status": "pass",
      "expectation": "single click should select node target",
      "evidence": {
        "hit": {
          "kind": "node",
          "id": "a",
          "dist": 1.4142135623730951,
          "reason": "node_hit"
        },
        "state": {
          "selected_kind": "node",
          "selected_id": "a",
          "last_click_target": {
            "kind": "node",
            "id": "a"
          },
          "last_click_count": 1
        }
      }
    },
    {
      "id": 15,
      "name": "二次点击钻取（只测 drilldown）",
      "status": "pass",
      "expectation": "double click on node should emit drilldown action",
      "evidence": {
        "transition": {
          "action": "drilldown",
          "target_id": "c",
          "reason": "double_click_node"
        }
      }
    },
    {
      "id": 16,
      "name": "Ctrl+点击打开文件（只测 open-file 动作）",
      "status": "pass",
      "expectation": "ctrl+click file node should request open_file(path)",
      "evidence": {
        "action": {
          "action": "open_file",
          "path": "src/main.cpp",
          "reason": "ctrl_click_file_node"
        }
      }
    },
    {
      "id": 17,
      "name": "滚轮缩放（只测 zoom）",
      "status": "pass",
      "expectation": "zoom_update should follow exp wheel formula with clamp",
      "evidence": {
        "new_scale": 0.8057353018734796,
        "expected": 0.8057353018734796,
        "params": {
          "zoom_k": 0.0018,
          "min_scale": 0.18,
          "max_scale": 5.0
        }
      }
    },
    {
      "id": 18,
      "name": "节点命中优先级（只测 node>edge）",
      "status": "pass",
      "expectation": "when node and edge both hit, node should win",
      "evidence": {
        "hit": {
          "kind": "node",
          "id": "c",
          "dist": 1.0,
          "reason": "node_hit"
        },
        "params": {
          "node_radius_px": 8.0,
          "edge_radius_px": 5.0,
          "node_priority": true,
          "distance_metric": "pixel_to_world"
        }
      }
    },
    {
      "id": 19,
      "name": "边命中半径（只测 edge hitbox）",
      "status": "pass",
      "expectation": "edge hit should be inside/at threshold and miss outside threshold",
      "evidence": {
        "near": {
          "kind": "edge",
          "id": "e_ab",
          "dist": 4.0,
          "reason": "edge_hit"
        },
        "mid": {
          "kind": "edge",
          "id": "e_ab",
          "dist": 5.0,
          "reason": "edge_hit"
        },
        "far": {
          "kind": "none",
          "id": null,
          "dist": null,
          "reason": "miss"
        },
        "params": {
          "node_radius_px": 0.0,
          "edge_radius_px": 5.0,
          "node_priority": true,
          "distance_metric": "pixel_to_world"
        }
      }
    },
    {
      "id": 20,
      "name": "缩放后命中一致（只测 hitbox 随 scale）",
      "status": "pass",
      "expectation": "pixel_to_world rule: higher scale shrinks world-space hit radius",
      "evidence": {
        "scale_1": {
          "kind": "edge",
          "id": "e_ab",
          "dist": 3.0,
          "reason": "edge_hit"
        },
        "scale_2": {
          "kind": "none",
          "id": null,
          "dist": null,
          "reason": "miss"
        },
        "params": {
          "node_radius_px": 0.0,
          "edge_radius_px": 4.0,
          "node_priority": true,
          "distance_metric": "pixel_to_world"
        }
      }
    },
    {
      "id": 22,
      "name": "SimLab S01 init task",
      "status": "pass",
      "expectation": "S01_init_task should pass in headless environment",
      "evidence": {
        "scenario_id": "S01_init_task",
        "status": "pass",
        "trace": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S01_init_task/TRACE.md",
        "bundle": "",
        "run_dir": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551",
        "simlab_summary_path": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_simlab_suite_summary.json"
      }
    },
    {
      "id": 23,
      "name": "SimLab S02 doc-first gate",
      "status": "pass",
      "expectation": "S02_doc_first_gate should pass in headless environment",
      "evidence": {
        "scenario_id": "S02_doc_first_gate",
        "status": "pass",
        "trace": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S02_doc_first_gate/TRACE.md",
        "bundle": "",
        "run_dir": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551",
        "simlab_summary_path": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_simlab_suite_summary.json"
      }
    },
    {
      "id": 24,
      "name": "SimLab S03 doc index check",
      "status": "pass",
      "expectation": "S03_doc_index_check should pass in headless environment",
      "evidence": {
        "scenario_id": "S03_doc_index_check",
        "status": "pass",
        "trace": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S03_doc_index_check/TRACE.md",
        "bundle": "",
        "run_dir": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551",
        "simlab_summary_path": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_simlab_suite_summary.json"
      }
    },
    {
      "id": 25,
      "name": "SimLab S04 assistant --force",
      "status": "pass",
      "expectation": "S04_assistant_force should pass in headless environment",
      "evidence": {
        "scenario_id": "S04_assistant_force",
        "status": "pass",
        "trace": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S04_assistant_force/TRACE.md",
        "bundle": "",
        "run_dir": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551",
        "simlab_summary_path": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_simlab_suite_summary.json"
      }
    },
    {
      "id": 26,
      "name": "SimLab S05 run artifacts",
      "status": "pass",
      "expectation": "S05_run_artifacts should pass in headless environment",
      "evidence": {
        "scenario_id": "S05_run_artifacts",
        "status": "pass",
        "trace": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S05_run_artifacts/TRACE.md",
        "bundle": "",
        "run_dir": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551",
        "simlab_summary_path": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_simlab_suite_summary.json"
      }
    },
    {
      "id": 27,
      "name": "SimLab S06 failure bundle",
      "status": "pass",
      "expectation": "S06_failure_bundle should pass in headless environment",
      "evidence": {
        "scenario_id": "S06_failure_bundle",
        "status": "pass",
        "trace": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S06_failure_bundle/TRACE.md",
        "bundle": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551/S06_failure_bundle/failure_bundle.zip",
        "run_dir": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/simlab_runs/20260219-125551",
        "simlab_summary_path": "D:/.c_projects/adc/ctcp/tests/fixtures/adlc_forge_full_bundle/runs/_simlab_suite_summary.json"
      }
    },
    {
      "id": 21,
      "name": "clean zip 不包含临时文件",
      "status": "pass",
      "expectation": "zip should exclude _tmp_patch.py/patch_debug.txt/*.bak",
      "evidence": {
        "rc": 0,
        "stdout": "[ok] wrote D:\\.c_projects\\adc\\ctcp\\tests\\fixtures\\adlc_forge_full_bundle\\runs\\_gate_matrix_sandbox\\dist\\clean_repo_matrix.zip\n",
        "stderr": "",
        "zip_exists": true,
        "contains_bad": false
      }
    }
  ]
}